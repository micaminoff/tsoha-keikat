{% extends "layout.html" %}
{% from 'field_macro.html' import render_field %}

{% block body %}
<section class="section">
    <form method="POST" action="{{ url_for('events_create') }}">

        <!--
            render_field() is a macro to enforce DRY between event modification and creation
            reference: https://flask.palletsprojects.com/en/1.1.x/patterns/wtforms/
        -->

        {{render_field(form.name)}}

        <div class='field'>
            {{ form.performer.label(class_='label') }}
            <div class=''>
                {{ form.performer(multiple='') }}
            </div>
        </div>
        {% if form.performer.errors %}
        <ul class='errors'>
            {% for error in form.performer.errors %}
            <li><span class='is-danger tag'>{{error}}</span></li>
            {% endfor %}
        </ul>
        {% endif %}
        {{render_field(form.venue)}}

        {{render_field(form.date, type='date')}}

        <div class="field">
            <input class="button is-info" type="submit" value="Add a new Event" />
        </div>
    </form>
</section>
{% endblock %}